<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1356px" preserveAspectRatio="none" style="width:1620px;height:1356px;" version="1.1" viewBox="0 0 1620 1356" width="1620px" zoomAndPan="magnify"><defs><filter height="300%" id="f1bc3fzqluyeog" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#EEEEFF" height="1341.5078" style="stroke: #A80036; stroke-width: 1.0;" width="487" x="14" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109" x="203" y="16.0669">VPP Interfaces</text><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="69" y="589.4219"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="69" y="1007.1484"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="395" y="375.625"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="395" y="560.2891"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="395" y="718.9531"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="395" y="819.3516"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="395" y="877.6172"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="395" y="978.0156"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="766" y="102.5625"/><rect fill="#FFBBBB" filter="url(#f1bc3fzqluyeog)" height="957.8516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="766" y="304.3594"/><rect fill="#FFBFDD" filter="url(#f1bc3fzqluyeog)" height="98.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="771" y="341.3594"/><rect fill="#FFDDCC" filter="url(#f1bc3fzqluyeog)" height="673.7891" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="771" y="483.8906"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="1050.3828" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1149" y="211.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="74" x2="74" y1="71.4297" y2="1280.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="400" x2="400" y1="71.4297" y2="1280.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="771" x2="771" y1="71.4297" y2="1280.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1153.5" x2="1153.5" y1="71.4297" y2="1280.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1580.5" x2="1580.5" y1="71.4297" y2="1280.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="18" y="68.1279">Interface Model</text><ellipse cx="74" cy="39.1328" fill="#FEFECE" filter="url(#f1bc3fzqluyeog)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="62" x2="86" y1="53.1328" y2="53.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="18" y="1292.2061">Interface Model</text><ellipse cx="74" cy="1311.5078" fill="#FEFECE" filter="url(#f1bc3fzqluyeog)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="62" x2="86" y1="1325.5078" y2="1325.5078"/><rect fill="#FEFECE" filter="url(#f1bc3fzqluyeog)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="323" y="36.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="330" y="56.1279">Interface Descriptor</text><rect fill="#FEFECE" filter="url(#f1bc3fzqluyeog)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="323" y="1279.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="330" y="1299.2061">Interface Descriptor</text><rect fill="#FEFECE" filter="url(#f1bc3fzqluyeog)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="718" y="36.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="725" y="56.1279">KVScheduler</text><rect fill="#FEFECE" filter="url(#f1bc3fzqluyeog)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="718" y="1279.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="725" y="1299.2061">KVScheduler</text><rect fill="#FEFECE" filter="url(#f1bc3fzqluyeog)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="1101.5" y="36.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="1108.5" y="56.1279">Orchestrator</text><rect fill="#FEFECE" filter="url(#f1bc3fzqluyeog)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="1101.5" y="1279.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="1108.5" y="1299.2061">Orchestrator</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="1558.5" y="68.1279">KVDB</text><path d="M1563,19.1328 C1563,9.1328 1581,9.1328 1581,9.1328 C1581,9.1328 1599,9.1328 1599,19.1328 L1599,45.1328 C1599,55.1328 1581,55.1328 1581,55.1328 C1581,55.1328 1563,55.1328 1563,45.1328 L1563,19.1328 " fill="#FEFECE" filter="url(#f1bc3fzqluyeog)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1563,19.1328 C1563,29.1328 1581,29.1328 1581,29.1328 C1581,29.1328 1599,29.1328 1599,19.1328 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="1558.5" y="1292.2061">KVDB</text><path d="M1563,1305.5078 C1563,1295.5078 1581,1295.5078 1581,1295.5078 C1581,1295.5078 1599,1295.5078 1599,1305.5078 L1599,1331.5078 C1599,1341.5078 1581,1341.5078 1581,1341.5078 C1581,1341.5078 1563,1341.5078 1563,1331.5078 L1563,1305.5078 " fill="#FEFECE" filter="url(#f1bc3fzqluyeog)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1563,1305.5078 C1563,1315.5078 1581,1315.5078 1581,1315.5078 C1581,1315.5078 1599,1315.5078 1599,1305.5078 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="69" y="589.4219"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="69" y="1007.1484"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="395" y="375.625"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="395" y="560.2891"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="395" y="718.9531"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="395" y="819.3516"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="395" y="877.6172"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="395" y="978.0156"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="766" y="102.5625"/><rect fill="#FFBBBB" filter="url(#f1bc3fzqluyeog)" height="957.8516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="766" y="304.3594"/><rect fill="#FFBFDD" filter="url(#f1bc3fzqluyeog)" height="98.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="771" y="341.3594"/><rect fill="#FFDDCC" filter="url(#f1bc3fzqluyeog)" height="673.7891" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="771" y="483.8906"/><rect fill="#FFFFFF" filter="url(#f1bc3fzqluyeog)" height="1050.3828" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1149" y="211.8281"/><polygon fill="#A80036" points="754,98.5625,764,102.5625,754,106.5625,758,102.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="400" x2="760" y1="102.5625" y2="102.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="159" x="498.5" y="97.4966">RegisterKVDescriptor</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="10" x="657.5" y="97.4966">()</text><polygon fill="#A80036" points="411,127.6953,401,131.6953,411,135.6953,407,131.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="405" x2="770" y1="131.6953" y2="131.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="15" x="578" y="126.6294">ok</text><rect fill="#EEEEEE" filter="url(#f1bc3fzqluyeog)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1605.5" x="3" y="160.2617"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1608.5" y1="160.2617" y2="160.2617"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1608.5" y1="163.2617" y2="163.2617"/><rect fill="#EEEEEE" filter="url(#f1bc3fzqluyeog)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="401" x="605.25" y="149.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="248" x="611.25" y="165.7622">Resync Transaction #0 (configure</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="52" x="864.25" y="165.7622">my-tap</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="921.25" y="165.7622">interface)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1154" x2="1201" y1="198.9609" y2="198.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1201" x2="1201" y1="198.9609" y2="211.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1160" x2="1201" y1="211.9609" y2="211.9609"/><polygon fill="#A80036" points="1170,207.9609,1160,211.9609,1170,215.9609,1166,211.9609" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147" x="1166" y="193.895">start startup resync</text><polygon fill="#A80036" points="1569,242.0938,1579,246.0938,1569,250.0938,1573,246.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1159" x2="1575" y1="246.0938" y2="246.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="1329.5" y="241.0278">list all values</text><polygon fill="#A80036" points="1170,271.2266,1160,275.2266,1170,279.2266,1166,275.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1164" x2="1580" y1="275.2266" y2="275.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="1171" y="270.1606">config snapshot</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="1294" y="270.1606">= [interface</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="46" x="1374" y="270.1606">my-tap</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="1424" y="270.1606">with IP</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="96" x="1468" y="270.1606">192.168.1.1/24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1564" y="270.1606">]</text><polygon fill="#A80036" points="787,300.3594,777,304.3594,787,308.3594,783,304.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="781" x2="1148" y1="304.3594" y2="304.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="811" y="299.2935">Resync Txn</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="897" y="299.2935">= [apply value (interface)</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="46" x="1063" y="299.2935">my-tap</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1109" y="299.2935">]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="776" x2="823" y1="328.4922" y2="328.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="823" x2="823" y1="328.4922" y2="341.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="782" x2="823" y1="341.4922" y2="341.4922"/><polygon fill="#A80036" points="792,337.4922,782,341.4922,792,345.4922,788,341.4922" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="788" y="323.4263">start graph refresh</text><polygon fill="#A80036" points="416,371.625,406,375.625,416,379.625,412,375.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="410" x2="770" y1="375.625" y2="375.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61" x="552.5" y="370.5591">Retrieve</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="10" x="613.5" y="370.5591">()</text><polygon fill="#A80036" points="759,400.7578,769,404.7578,759,408.7578,763,404.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="400" x2="765" y1="404.7578" y2="404.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="448.5" y="399.6919">retrieved interfaces = [</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="37" x="600.5" y="399.6919">local0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="641.5" y="399.6919">(OBTAINED)]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="781" x2="823" y1="438.8906" y2="438.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="823" x2="823" y1="438.8906" y2="451.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="776" x2="823" y1="451.8906" y2="451.8906"/><polygon fill="#A80036" points="786,447.8906,776,451.8906,786,455.8906,782,451.8906" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160" x="788" y="433.8247">save refreshed graph</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="776" x2="823" y1="471.0234" y2="471.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="823" x2="823" y1="471.0234" y2="484.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="782" x2="823" y1="484.0234" y2="484.0234"/><polygon fill="#A80036" points="792,480.0234,782,484.0234,792,488.0234,788,484.0234" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="63" x="788" y="465.9575">start txn</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="781" x2="823" y1="518.1563" y2="518.1563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="823" x2="823" y1="518.1563" y2="531.1563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="782" x2="823" y1="531.1563" y2="531.1563"/><polygon fill="#A80036" points="792,527.1563,782,531.1563,792,535.1563,788,531.1563" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="37" x="788" y="513.0903">local0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="829" y="513.0903">is OBTAINED =&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="939" y="513.0903">not to be removed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="1081" y="513.0903">by resync</text><polygon fill="#A80036" points="416,556.2891,406,560.2891,416,564.2891,412,560.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="410" x2="770" y1="560.2891" y2="560.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="516.5" y="555.2231">KeySelector</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="603.5" y="555.2231">(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="46" x="608.5" y="555.2231">my-tap</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="654.5" y="555.2231">)</text><polygon fill="#A80036" points="90,585.4219,80,589.4219,90,593.4219,86,589.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="84" x2="394" y1="589.4219" y2="589.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76" x="171" y="584.356">IsKeyValid</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="247" y="584.356">(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="46" x="252" y="584.356">my-tap</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="298" y="584.356">)</text><polygon fill="#A80036" points="383,614.5547,393,618.5547,383,622.5547,387,618.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="74" x2="389" y1="618.5547" y2="618.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="221.5" y="613.4888">true</text><polygon fill="#A80036" points="759,643.6875,769,647.6875,759,651.6875,763,647.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="400" x2="765" y1="647.6875" y2="647.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="572.5" y="642.6216">true</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="781" x2="823" y1="676.8203" y2="676.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="823" x2="823" y1="676.8203" y2="689.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="782" x2="823" y1="689.8203" y2="689.8203"/><polygon fill="#A80036" points="792,685.8203,782,689.8203,792,693.8203,788,689.8203" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="788" y="671.7544">value is</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="840" y="671.7544">handled by</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="927" y="671.7544">InterfaceDescriptor</text><polygon fill="#A80036" points="416,714.9531,406,718.9531,416,722.9531,412,718.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="410" x2="770" y1="718.9531" y2="718.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="105" x="507.5" y="713.8872">Dependencies</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="612.5" y="713.8872">(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="46" x="617.5" y="713.8872">my-tap</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="663.5" y="713.8872">)</text><polygon fill="#A80036" points="759,744.0859,769,748.0859,759,752.0859,763,748.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="400" x2="765" y1="748.0859" y2="748.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="505" y="743.02">&lt;&lt; no dependencies &gt;&gt;</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="781" x2="823" y1="777.2188" y2="777.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="823" x2="823" y1="777.2188" y2="790.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="782" x2="823" y1="790.2188" y2="790.2188"/><polygon fill="#A80036" points="792,786.2188,782,790.2188,792,794.2188,788,790.2188" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="788" y="772.1528">value</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="46" x="826" y="772.1528">my-tap</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="10" x="876" y="772.1528">is</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="42" x="890" y="772.1528">ready</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="936" y="772.1528">to be created</text><polygon fill="#A80036" points="416,815.3516,406,819.3516,416,823.3516,412,819.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="410" x2="770" y1="819.3516" y2="819.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="535.5" y="814.2856">Create</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="584.5" y="814.2856">(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="46" x="589.5" y="814.2856">my-tap</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="635.5" y="814.2856">)</text><polygon fill="#A80036" points="759,844.4844,769,848.4844,759,852.4844,763,848.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="400" x2="765" y1="848.4844" y2="848.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="15" x="578" y="843.4185">ok</text><polygon fill="#A80036" points="416,873.6172,406,877.6172,416,881.6172,412,877.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="410" x2="770" y1="877.6172" y2="877.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106" x="507" y="872.5513">DerivedValues</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="613" y="872.5513">(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="46" x="618" y="872.5513">my-tap</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="664" y="872.5513">)</text><polygon fill="#A80036" points="759,902.75,769,906.75,759,910.75,763,906.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="400" x2="765" y1="906.75" y2="906.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="417" y="901.6841">derived-values = [</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="211" x="538" y="901.6841">"address/my-tap/192.168.1.1/24"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="749" y="901.6841">]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="781" x2="823" y1="935.8828" y2="935.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="823" x2="823" y1="935.8828" y2="948.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="782" x2="823" y1="948.8828" y2="948.8828"/><polygon fill="#A80036" points="792,944.8828,782,948.8828,792,952.8828,788,948.8828" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="788" y="930.8169">schedule create</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="17" x="910" y="930.8169">for</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="211" x="931" y="930.8169">"address/my-tap/192.168.1.1/24"</text><polygon fill="#A80036" points="416,974.0156,406,978.0156,416,982.0156,412,978.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="410" x2="770" y1="978.0156" y2="978.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="434" y="972.9497">KeySelector</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="521" y="972.9497">(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="211" x="526" y="972.9497">"address/my-tap/192.168.1.1/24"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="737" y="972.9497">)</text><polygon fill="#A80036" points="90,1003.1484,80,1007.1484,90,1011.1484,86,1007.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="84" x2="394" y1="1007.1484" y2="1007.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76" x="88.5" y="1002.0825">IsKeyValid</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="164.5" y="1002.0825">(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="211" x="169.5" y="1002.0825">"address/my-tap/192.168.1.1/24"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="380.5" y="1002.0825">)</text><polygon fill="#A80036" points="383,1032.2813,393,1036.2813,383,1040.2813,387,1036.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="74" x2="389" y1="1036.2813" y2="1036.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="219.5" y="1031.2153">false</text><polygon fill="#A80036" points="759,1061.4141,769,1065.4141,759,1069.4141,763,1065.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="400" x2="765" y1="1065.4141" y2="1065.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="570.5" y="1060.3481">false</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="781" x2="823" y1="1109.6797" y2="1109.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="823" x2="823" y1="1109.6797" y2="1122.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="782" x2="823" y1="1122.6797" y2="1122.6797"/><polygon fill="#A80036" points="792,1118.6797,782,1122.6797,792,1126.6797,788,1122.6797" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="211" x="788" y="1089.481">"address/my-tap/192.168.1.1/24"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="10" x="1003" y="1089.481">is</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="1017" y="1089.481">property</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1085" y="1089.481"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="792" y="1104.6138">(without CRUD operations)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="781" x2="823" y1="1156.8125" y2="1156.8125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="823" x2="823" y1="1156.8125" y2="1169.8125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="776" x2="823" y1="1169.8125" y2="1169.8125"/><polygon fill="#A80036" points="786,1165.8125,776,1169.8125,786,1173.8125,782,1169.8125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="167" x="788" y="1151.7466">finalize and record txn</text><path d="M684,1177.8125 L684,1202.8125 L854,1202.8125 L854,1187.8125 L844,1177.8125 L684,1177.8125 " fill="#FBFB77" filter="url(#f1bc3fzqluyeog)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M844,1177.8125 L844,1187.8125 L854,1187.8125 L844,1177.8125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><a target="_top" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/milanlenco/vpp-agent/kvs-docs/docs/kvscheduler/cfd/graph/interface_created.svg?sanitize=true" xlink:show="new" xlink:title="https://raw.githubusercontent.com/milanlenco/vpp-agent/kvs-docs/docs/kvscheduler/cfd/graph/interface_created.svg?sanitize=true" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="149" x="690" y="1194.8794">Graph after transaction</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="690" x2="839" y1="1196.8794" y2="1196.8794"/></a><polygon fill="#A80036" points="1137,1229.0781,1147,1233.0781,1137,1237.0781,1141,1233.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="776" x2="1143" y1="1233.0781" y2="1233.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="888.5" y="1228.0122">value state updates</text><polygon fill="#A80036" points="1142,1258.2109,1152,1262.2109,1142,1266.2109,1146,1262.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="771" x2="1148" y1="1262.2109" y2="1262.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="916.5" y="1257.145">txn error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="984.5" y="1257.145">(nil)</text><!--
@startuml

skinparam ParticipantPadding 20
skinparam BoxPadding 10
skinparam SequenceMessageAlign center

box "VPP Interfaces" #EEEEFF
entity IM as "Interface Model"
participant ID as "Interface Descriptor"
end box
participant KVS as "KVScheduler"
participant ORCH as "Orchestrator"
database DB as "KVDB"

ID -> KVS: **RegisterKVDescriptor**()
activate KVS
 KVS - -> ID: ok
deactivate KVS

== Resync Transaction #0 (configure //my-tap// interface) ==

ORCH -> ORCH: **start startup resync**
activate ORCH
ORCH -> DB: list all values
DB - -> ORCH: **config snapshot** = [interface //my-tap// with IP //192.168.1.1/24//]
ORCH -> KVS: **Resync Txn** = [apply value (interface) //my-tap//]
activate KVS  #FFBBBB

KVS -> KVS: **start graph refresh**
 activate KVS  #FFBFDD
  KVS -> ID: **Retrieve**()
   activate ID
    ID - -> KVS: retrieved interfaces = [ //local0// (OBTAINED)]
   deactivate ID
  KVS -> KVS: **save refreshed graph**
 deactivate KVS

KVS -> KVS: **start txn**
 activate KVS  #FFDDCC
  KVS -> KVS: //local0// is OBTAINED => **not to be removed** by resync
 KVS -> ID: **KeySelector**(//my-tap//)
  activate ID
   ID -> IM: **IsKeyValid**(//my-tap//)
   activate IM
    IM - -> ID: true
   deactivate IM
   ID - -> KVS: true
  deactivate ID
 KVS -> KVS: value is **handled by** InterfaceDescriptor
 KVS -> ID: **Dependencies**(//my-tap//)
  activate ID
   ID - -> KVS: << no dependencies >>
  deactivate ID
 KVS -> KVS: value //my-tap// is **ready** to be created
 KVS -> ID: **Create**(//my-tap//)
  activate ID
   ID - -> KVS: ok
  deactivate ID

 KVS -> ID: **DerivedValues**(//my-tap//)
  activate ID
   ID - -> KVS: derived-values = [ //"address/my-tap/192.168.1.1/24"//]
  deactivate ID
  KVS -> KVS: **schedule create** for //"address/my-tap/192.168.1.1/24"//
  KVS -> ID: **KeySelector**(//"address/my-tap/192.168.1.1/24"//)
  activate ID
   ID -> IM: **IsKeyValid**(//"address/my-tap/192.168.1.1/24"//)
   activate IM
   IM - -> ID: false
   deactivate IM
   ID - -> KVS: false
  deactivate ID
 KVS -> KVS: //"address/my-tap/192.168.1.1/24"// is **property** \n (without CRUD operations)

 KVS -> KVS: **finalize and record txn**
 deactivate KVS

 note over KVS: [[https://raw.githubusercontent.com/milanlenco/vpp-agent/kvs-docs/docs/kvscheduler/cfd/graph/interface_created.svg?sanitize=true Graph after transaction]]

KVS - -> ORCH: **value state updates**
KVS - -> ORCH: **txn error** (nil)
deactivate KVS
deactivate ORCH

@enduml

PlantUML version 1.2018.11(Sat Sep 22 18:43:53 CEST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1024-b11
Operating System: Linux
OS Version: 4.10.0-28-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>